<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissor Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>


    <p class="title">Rock Paper Scissor</p>


    <p class="pick">Pick Your Move:</p>


    <div>



    <button onclick="
        user='rock';
        
        pickComputerMove();
        tellWinner('rock');
        updateScore();
        announceScore();"><img class='rock' src="images/rock-emoji.png">Rock</button>


    <button onclick="
    user='paper';
    pickComputerMove();
    tellWinner('paper');
    updateScore();
    announceScore();"><img class='paper' src="images/paper-emoji.png">Paper</button>


    <button onclick="
    user='scissor';
        pickComputerMove();
        tellWinner('scissor');
        updateScore();
        announceScore();"><img class="scissor" src="images/scissors-emoji.png">Scissor</button>



    <button class="reset" onclick="
    score={
        win:0,
        loss:0,
        tie:0
    };

    scoreElement.innerHTML=`Wins: ${score.win}  <br> Loss:${score.loss} <br> Ties:${score.tie}`;
    alert('Score was Reset');
    winnerElement.innerHTML='';
    localStorage.setItem('score',JSON.stringify(score));">Reset Score</button>

</div>



<div class="score-updater">
    <p class="current-winner"></p>


    


    <p class="wins"></p>
</div>
    



    


    



    <script>

        let computerMove;

        score=JSON.parse(localStorage.getItem('score'))||{
            win:0,
            loss:0,
            tie:0
        };

        let a;
        
        let res;

        let user;

        function pickComputerMove(){

            a=Math.random();
            if(a<1/3){
                computerMove='rock';
            }

            else if(a>=1/3 && a<2/3){
                computerMove='paper';

            }
            else{
                computerMove='scissor'
            }


        };


        

        function tellWinner(userChoice){
        if (computerMove===userChoice){
            res='tie';
            }

            else if (userChoice==='rock' && computerMove=='paper'){
                res='loss';
        
        }

        else if (userChoice==='rock' && computerMove=='scissor'){
                res='win';
        
        }

        else if (userChoice==='paper' && computerMove=='scissor'){
                res='loss';
        
        }
        else if (userChoice==='paper' && computerMove=='rock'){
                res='win';
        
        }

        else if (userChoice==='scissor' && computerMove=='paper'){
            res='win';
        
        }

        else if (userChoice==='scissor' && computerMove=='rock'){
                res='loss';
        
        }

        };


        function updateScore() {
    if (res === 'win') {
        score.win += 1;
    } else if (res === 'loss') {
        score.loss += 1;
    } else {
        score.tie += 1;
    }

    localStorage.setItem('score',JSON.stringify(score));



};




        function announceScore(){
            
            winnerElement=document.querySelector('.current-winner');
            winnerElement.innerHTML= `You Chose ${user} , Computer Chose ${computerMove} ,  Its a ${res}`;

            scoreElement=document.querySelector('.wins');
            scoreElement.innerHTML=`Wins: ${score.win}  <br> Loss:${score.loss} <br> Ties:${score.tie}`;

            
            



        };


        


        


        


        



        

    </script>
    
</body>
</html>





        


















